<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Use correct character set. -->
    <meta charset="utf-8">
    <!-- Tell IE to use the latest, best version. -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Make the application on mobile take up the full browser screen and disable user scaling. -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <title>Viewer</title>
    <link rel="shortcut icon" href="favicon1.ico" type="image/x-icon" />
    <link rel="stylesheet" href="CesiumViewer.css" media="screen">
    <script data-main="CesiumViewerStartup" src="../Cesium/ThirdParty/requirejs-2.1.20/require.js"></script>
    <script src="lib/vue/vue.js"></script>
    <script src="lib/vue/vue-resource.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.0.js"></script>
    
    <script>
        var app = new Vue({
            el: '#app',
            data: {
                message: '我是一个绑定的默认值!'
            }
            });
            
            function findgeo(name)
            {
                var geodata=[
                    {"name":"neimenggu" ,
                    "chname": "内蒙古自治区",
                    "lon":118.87,
                    "lat":42.28
                    },
                    {"name":"hunan",
                    "chname":"湖南省",
                    "lon":113,
                    "lat":28.21
                    },
                    {"name":"wh",
                     "chname": "湖北省",
                        "lon": 114.31,
                        "lat":30.52
                    }
                ];
                for(var i=0;i<geodata.length;i++)
                {
                    if(geodata[i].name==name)
                        return geodata[i];
                }
                return null;
            }
            function loadsearch()
            {
                // alert("test");
                // this.$http.get('http://127.0.0.1:3000/getuser')
                // .then((response) => {
                //     alert("11");
                       
                //     });
                var resource = "http://127.0.0.1:3000/getuser";
                $.ajax({
                    url: resource,
                    type: "get",
					scrossDomain: true,
                    success: function(msg) {
                        data=JSON.parse(msg);
     
                        for(i=0;i<data.length;i++)
                        {
                            //alert(data[i].key);
                            geodata=findgeo(data[i].key);
                            if(geodata!=null)
                                alert(data[i].key+geodata.lon);   
                        }
                    },
                    error: function(XMLHttpRequest, textStatus, errorThrown) {
                        alert(XMLHttpRequest.status);
                        alert(XMLHttpRequest.readyState);
                        alert("111"+textStatus);
                    },
                    complete: function(XMLHttpRequest, textStatus) {
                        this; // 调用本次AJAX请求时传递的options参数
                    }
                });
            }
        </script> 
</head>
<body style="background: #000;">
    <div style="z-index:999">
        <input type="button" onclick="loadsearch()" value="招聘">
    </div>
    <div style="z-index:1" id="cesiumContainer" class="fullWindow"></div>
    <div id="loadingIndicator" class="loadingIndicator"></div>
    
</body>
</html>
